INCLUDE(ExternalProject)

# SET(MIR2X_ASIO_GIT_TAG "master")
SET(MIR2X_ASIO_GIT_TAG "asio-1-34-0")
ExternalProject_Add(
    asio

    GIT_REPOSITORY "https://github.com/chriskohlhoff/asio.git"
    GIT_TAG        "${MIR2X_ASIO_GIT_TAG}"

    SOURCE_DIR "${MIR2X_3RD_PARTY_DIR}/asio-${MIR2X_ASIO_GIT_TAG}"

    CONFIGURE_COMMAND ""
    BUILD_COMMAND ""
    INSTALL_COMMAND ""
    UPDATE_COMMAND ""
    PATCH_COMMAND ""
)

ADD_COMPILE_DEFINITIONS(ASIO_STANDALONE)
SET(ASIO_INCLUDE_DIRS "${MIR2X_3RD_PARTY_DIR}/asio-${MIR2X_ASIO_GIT_TAG}/asio/include")
INCLUDE_DIRECTORIES(SYSTEM ${ASIO_INCLUDE_DIRS})
ADD_DEPENDENCIES(mir2x_3rds asio)
